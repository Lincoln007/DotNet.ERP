<UserControl xmlns:ChildTabContentControls="clr-namespace:Pharos.Barcode.Retailing.ChildTabContentControls" 
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero" x:Class="Pharos.Barcode.Retailing.ChildTabContentControls.BarcodePrintContentControl" 
             xmlns:lib="clr-namespace:Pharos.Frame.Wpf.Components;assembly=Pharos.Frame.Wpf.Components"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="1024">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Pharos.Barcode.Retailing;component/Styles/BarcodePrintStyle.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="724*"/>
        </Grid.ColumnDefinitions>
        <TreeView Name="categoryTree" Grid.Column="0" Margin="0,0,5,0" ItemsSource="{Binding CategoryTreeModel}" Style="{StaticResource TreeViewForMenuStyle}"/>
        <GridSplitter Width="5"></GridSplitter>
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="60"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="45"/>
                    <ColumnDefinition Width="130"/>
                    <ColumnDefinition Width="45"/>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="90"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Style="{StaticResource TitleStyle}"><Run Text="关键字："/></TextBlock>
                <ChildTabContentControls:TextboxWithPlaceholder VerticalContentAlignment="Center" Height="40" Text="{Binding KeyWord}" Width="120" HorizontalAlignment="Left" Grid.Column="1" Placeholder="条码/货号/品名" />
                <TextBlock Grid.Column="2" Style="{StaticResource TitleStyle}"><Run Text="门店："/></TextBlock>
                <ComboBox ItemsSource="{Binding StoresSelectItem}" DisplayMemberPath="Title" SelectedValue="{Binding Store}" SelectedValuePath="StoreId"  VerticalContentAlignment="Center" Height="40" Width="120" HorizontalAlignment="Left" Grid.Column="3" />
                <TextBlock Grid.Column="4" Style="{StaticResource TitleStyle}"><Run Text="品牌："/></TextBlock>
                <ComboBox ItemsSource="{Binding ProductBrandSelectItem}" DisplayMemberPath="Title" SelectedValue="{Binding ProductBrand}" SelectedValuePath="BrandSN"   VerticalContentAlignment="Center" Height="40" Width="120" HorizontalAlignment="Left" Grid.Column="5"/>
                <Button Grid.Column="6" Width="80" Height="40" Style="{StaticResource PrintButtonStyle}" Command="{Binding SearchCommand}" Content="查询"/>
                <Button Grid.Column="7" Width="80" Height="40" Style="{StaticResource PrintButtonStyle}" Command="{Binding PrintCommand}" Content="打印"/>
                <Button Grid.Column="8" Width="80" Height="40" Style="{StaticResource PrintButtonStyle}" Command="{Binding ExportCommand}" Content="导出"/>
            </Grid>
            <lib:PagingDataGrid Name="PageDataGrid" PageSizeList="30,50,100" PageSize="{Binding PageSize,Mode=TwoWay}" PageIndex="{Binding PageIndex,Mode=TwoWay}" Grid.Row="1"  CanUserAddRows="False" CanUserDeleteRows="False"  CanUserReorderColumns="False"  HeadersVisibility="Column"  AutoGenerateColumns="False" ItemsSource="{Binding Products}" Total="{Binding Total,Mode=TwoWay}" PagingChanged="PagingDataGrid_PagingChanged">
                <lib:PagingDataGrid.Columns>
                    <DataGridTemplateColumn MinWidth="30" Width="30" MaxWidth="30" CanUserResize="False"  IsReadOnly="True">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox IsChecked="{Binding IsChecked,Mode=TwoWay}" Checked="CheckBox_Checked"></CheckBox>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                        <DataGridTemplateColumn.HeaderTemplate>
                            <DataTemplate>
                                <CheckBox Click="SelectAll_Click"></CheckBox>
                            </DataTemplate>
                        </DataGridTemplateColumn.HeaderTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTextColumn MinWidth="160" Binding="{Binding Barcode}" FontSize="14" IsReadOnly="true" Header="条码"></DataGridTextColumn>
                    <DataGridTextColumn  Width="75" Binding="{Binding ProductCode}"  FontSize="14" IsReadOnly="true" Header="货号"></DataGridTextColumn>
                    <DataGridTextColumn  Width="150*" Binding="{Binding Category}" FontSize="14" IsReadOnly="true" Header="品类"></DataGridTextColumn>
                    <DataGridTextColumn  Width="150*" Binding="{Binding Title}" FontSize="14" IsReadOnly="true" Header="品名"></DataGridTextColumn>
                    <DataGridTextColumn  Width="100" Binding="{Binding Brand}" FontSize="14"  IsReadOnly="true"  Header="品牌"></DataGridTextColumn>
                    <DataGridTextColumn Width="50" Binding="{Binding Unit}"  FontSize="14" Header="单位"  IsReadOnly="true" ></DataGridTextColumn>
                    <DataGridTextColumn Width="150" Binding="{Binding SysPrice,StringFormat='{}{0:C}'}" FontSize="14" Header="系统售价"  IsReadOnly="true" ></DataGridTextColumn>
                </lib:PagingDataGrid.Columns>
            </lib:PagingDataGrid>
        </Grid>
    </Grid>
</UserControl>
