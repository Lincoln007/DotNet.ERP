<Window xmlns:ChildPages="clr-namespace:Pharos.POS.Retailing.ChildPages"  x:Class="Pharos.POS.Retailing.MinorScreenPage.CustomerViewForOld"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="CustomerViewForOld"  Height="768" Width="1024"  ShowInTaskbar="False" AllowsTransparency="True" WindowStyle="None"
        FontFamily="Microsoft YaHei" Icon="../Images/favicon.ico">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="..\Styles\DataGridStyle.xaml"/>
                <ResourceDictionary Source="..\Styles\PosStyle.xaml"/>

            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Grid>
        <Border  Grid.Column="0" Grid.Row="1" Background="#E0E3E8" CornerRadius="0" Margin="0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="80"></RowDefinition>
                    <RowDefinition Height="*"></RowDefinition>
                    <RowDefinition Height="50"></RowDefinition>
                </Grid.RowDefinitions>
                <Border BorderThickness="5"  CornerRadius="10" Grid.Column="0" Grid.Row="0" Background="#dbd8dc" Margin="5,5,5,5">
                    <Grid Name="titlePanel">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="400"></ColumnDefinition>
                            <ColumnDefinition Width="*"></ColumnDefinition>
                            <ColumnDefinition Width="500"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <TextBlock Style="{StaticResource TitleTextStyle}" Name="PageTitle" FontFamily="Microsoft YaHei UI"><TextBlock Text="{Binding Path=CompanyName}"  DataContext="{Binding Infos}"></TextBlock> | <TextBlock Text="{Binding Path=StoreName}" DataContext="{Binding Infos}"></TextBlock></TextBlock>
                        <StackPanel Grid.Column="2">
                            <ChildPages:NoticeControl Width="Auto" Margin="0,0,50,0"/>
                        </StackPanel>
                    </Grid>

                </Border>
                
                <DataGrid Grid.Row="1" TabIndex="14" Margin="0" Foreground="#4B4B4B" BorderBrush="#5C5753" BorderThickness="0" VerticalGridLinesBrush="Transparent" HorizontalGridLinesBrush="#D6DBE9" CanUserSortColumns="False" CanUserDeleteRows="True" CanUserAddRows="False" CanUserReorderColumns="False" HeadersVisibility="Column"  AutoGenerateColumns="False" x:Name="DataGridGoods">
                    <DataGrid.Columns>
                        <DataGridTextColumn Width="*" MaxWidth="40" SortDirection="Ascending" CanUserReorder="False" CanUserResize="False" CanUserSort="False" Header="" IsReadOnly="True" Binding="{Binding Id,Mode=TwoWay}"></DataGridTextColumn>
                        <DataGridTextColumn Width="*" CanUserSort="False" Header="品名" IsReadOnly="True" Binding="{Binding Name,Mode=TwoWay}">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="TextWrapping" Value="Wrap"/>
                                    <Setter Property="Height" Value="auto"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                        <DataGridTextColumn IsReadOnly="True" CanUserSort="False" MaxWidth="150" Width="*" Header="数量" Binding="{Binding Num,Mode=TwoWay}"></DataGridTextColumn>
                        <DataGridTextColumn CanUserSort="False" MaxWidth="40" Width="*" Header="单位" IsReadOnly="True" Binding="{Binding Unit,Mode=TwoWay}"></DataGridTextColumn>
                        <DataGridTextColumn IsReadOnly="True" CanUserSort="False" MaxWidth="150" Width="*" Header="单价" Binding="{Binding Sale,Mode=TwoWay,StringFormat='{}{0:N}'}"></DataGridTextColumn>
                        <DataGridTextColumn CanUserSort="False" MinWidth="120" Width="*" Header="小计" IsReadOnly="True" Binding="{Binding Total,Mode=TwoWay,StringFormat='{}{0:N}'}"></DataGridTextColumn>
                    </DataGrid.Columns>
                </DataGrid>
                <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="8,10" Name="totalPanal">
                    <TextBlock VerticalAlignment="Center" FontWeight="Bold" FontSize="18" Margin="0,0,10,0">应付金额:</TextBlock>
                    <TextBlock Text="{Binding Receivable,StringFormat='{}{0:C}'}"  VerticalAlignment="Center" FontWeight="Bold" FontSize="18" Margin="0,0,10,0"></TextBlock>


                    <TextBlock VerticalAlignment="Center" FontWeight="Bold" FontSize="18" Margin="50,0,10,0">已优惠金额:</TextBlock>
                    <TextBlock Text="{Binding Preferential,StringFormat='{}{0:C}'}" VerticalAlignment="Center" FontWeight="Bold" FontSize="18" Margin="0,0,10,0"></TextBlock>

                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
