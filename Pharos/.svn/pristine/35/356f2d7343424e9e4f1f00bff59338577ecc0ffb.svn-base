<Window xmlns:Retailing="clr-namespace:Pharos.POS.Retailing"  x:Class="Pharos.POS.Retailing.ChildPages.DuiZhangCaoZou"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:Helpers="clr-namespace:Pharos.POS.Retailing.Helper"
        
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Width="800" Height="400" Icon="..\Images\check.png"
        Title="对账操作"  WindowState="Normal" WindowStyle="None"   Style="{DynamicResource SkinWindowStyle}"
        AllowsTransparency="True"  WindowStartupLocation="CenterScreen"  FontFamily="/Pharos.POS.Retailing;component/Fonts/#Microsoft YaHei" 
        Background="Transparent" BorderBrush="Transparent"
        Name="mainWindow">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="..\Styles\DuiZhangCaoZouStyle.xaml"></ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="70"></RowDefinition>
            <RowDefinition Height="*"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"></ColumnDefinition>
                <ColumnDefinition Width="120"></ColumnDefinition>
                <ColumnDefinition Width="80"></ColumnDefinition>
                <ColumnDefinition Width="120"></ColumnDefinition>
                <ColumnDefinition Width="70"></ColumnDefinition>
                <ColumnDefinition Width="120"></ColumnDefinition>
                <ColumnDefinition Width="140"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <TextBlock Style="{StaticResource BaseTextBlock}" Grid.Column="0" Grid.Row="0">对账日期：</TextBlock>
            <DatePicker TabIndex="1" SelectedDate="{Binding CheckTime,Mode=TwoWay}" FontSize="14" Grid.Column="1" Grid.Row="0" Height="35" Margin="0,10" VerticalAlignment="Bottom" VerticalContentAlignment="Center"></DatePicker>
            <TextBlock Style="{StaticResource BaseTextBlock}" Grid.Column="2" Grid.Row="0">收银员：</TextBlock>
            <TextBox TabIndex="2" Text="{Binding UserName}" Style="{StaticResource BaseTextBox}" Grid.Column="3" Height="35" Margin="0,10"  Grid.Row="0"  PreviewGotKeyboardFocus="TextBox_PreviewGotKeyboardFocus"></TextBox>
            <TextBlock Style="{StaticResource BaseTextBlock}" Grid.Column="4" Grid.Row="0">密码：</TextBlock>
            <PasswordBox TabIndex="3" VerticalContentAlignment="Center" FontSize="20" Height="35" Margin="0,10"  VerticalAlignment="Bottom" Grid.Column="5" Grid.Row="0" Helpers:PasswordBoxBindingHelper.IsPasswordBindingEnabled="True" Helpers:PasswordBoxBindingHelper.BindedPassword="{Binding Path=Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"></PasswordBox>
            <Button Command="{Binding Search}"  CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" Style="{StaticResource BtnSearchStyle}" Height="35" Margin="0,10"  Grid.Column="6" Grid.Row="0">查询</Button>
        </Grid>
        <ListBox Width="760" Margin="0,10"  Grid.Row="1" ItemsSource="{Binding QueryInfos}" ScrollViewer.CanContentScroll="False" >
            <ListBox.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel Width="756" ItemHeight="30" ItemWidth="378">
                    </WrapPanel>
                </ItemsPanelTemplate>
            </ListBox.ItemsPanel>
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="189"></ColumnDefinition>
                            <ColumnDefinition Width="189"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <TextBlock Style="{StaticResource BaseGridTitleTextBlock}" HorizontalAlignment="Right" Grid.Column="0"><Run Text="{Binding Key,Mode=OneWay}"></Run><Run> ：  </Run></TextBlock>

                        <TextBlock Style="{StaticResource BaseGridContentTextBlock}" Grid.Column="1" Text="{Binding Value, StringFormat=\{0:C\}}"></TextBlock>
                    </Grid>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</Window>
