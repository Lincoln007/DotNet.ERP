using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Quartz;

namespace Pharos.Service.Retailing.RechargeGiftsCache
{
    /// <summary>
    /// 充值分期赠送管理器
    /// </summary>
    public class RechargeGiftsStageManager
    {
        /// <summary>
        /// 启动
        /// </summary>
        public static void Start()
        {

        }
        /// <summary>
        /// 充值赠送刷新
        /// </summary>
        /// <param name="companyId"></param>
        public static void RefreshRechargeGiftsStage(int companyId)
        {

        }
        /// <summary>
        /// 获取所有分期数据 刷新
        /// </summary>
        /// <param name="companyId"></param>
        /// <returns></returns>
        public static TimeSpan RefreshStageInfo(int companyId)
        {
            return default(TimeSpan);
        }
        /// <summary>
        /// 创建作业调度
        /// </summary>
        /// <param name="ts"></param>
        /// <param name="companyid"></param>
        private static void CreateSchedulerRechargeGiftsStage(TimeSpan ts, int companyid)
        {

        }


    }
    /// <summary>
    /// 声明作业
    /// </summary>
    public class RechargeGiftsStageJob : IJob
    {
        /// <summary>
        /// context 可以获取当前 job 的各种状态
        /// </summary>
        /// <param name="context"></param>
        public void Execute(IJobExecutionContext context)
        {
            JobDataMap dataMap = context.JobDetail.JobDataMap;
            int content = dataMap.GetInt("rechargeGiftsStageJob");
            RechargeGiftsManager.RefreshRechargeGifts(content);
        }
    }
}
