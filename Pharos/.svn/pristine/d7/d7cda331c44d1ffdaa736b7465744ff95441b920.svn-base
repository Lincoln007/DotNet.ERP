@{
    ViewBag.Title = "TakeCouponIndex";
    Layout = "~/Views/Shared/_ManagerLayout.cshtml";
    ViewData.OpBtnInfo(new OpBtnInfo(addText: "新增类型", delText: "移除", hideDel: true, hideSearch: true));
}
@section search{
    <table class="table-toolbar">
        <tr>
            <td class="label-toolbar">
                <label>规则方式：</label>
            </td>
            <td class="input-toolbar">
                <select class="easyui-combobox">
                    <option>全部</option>
                    <option>按消费金额</option>
                    <option>按付款方式</option>
                    <option>按指定品类</option>
                    <option>按具体商品</option>
                    <option>按消费次数</option>
                </select>
            </td>
            <td class="input-toolbar">
                &nbsp;<input type="text" class="easyui-textbox" data-options="prompt:''" />
            </td>
        </tr>
    </table>
}
@section toolbar
{
    <a class="easyui-linkbutton cus1 linkbtn" data-options="iconCls:'icon-usable'" onclick="">设为可用</a>
    <a class="easyui-linkbutton cus1 linkbtn" data-options="iconCls:'icon-usable'" onclick="">设为禁用</a>
}

<script type="text/javascript">
    pharos.manager.geturl = "@Url.Action("FindMemberCardTypeList")";
    pharos.manager.editurl = "@Url.Action("CreateMemberCardType")";
    pharos.manager.columns = [[
        { field: 'Id', checkbox: true },
        { field: 'CardName', title: '名称', width: 80 },
        {
            field: 'CardType', title: '类型', width: 80, formatter: function (value, row, index) {
                if (value == 1) { return "充值卡"; }
                if (value == 2) { return "折扣卡"; }
            }
        },
        {
            field: 'Category', title: '种类', width: 80, formatter: function (value, row, index) {
                if (value == 1) { return "电子卡"; }
                if (value == 2) { return "磁卡"; }
                if (value == 3) { return "IC卡"; }
            }
        },
        {
            field: 'CouponType', title: '优惠方式', width: 80, formatter: function (value, row, index) {
                if (value == 0) { return "无"; }
                if (value == 1) { return "方案折扣"; }
                if (value == 2) { return "固定折扣"; }
            }
        },
        {
            field: 'IntegrationType', title: '积分方式', width: 80, formatter: function (value, row, index) {
                if (value == 0) { return "无";}
                if (value == 1) { return "方案积分";}
            }
        },
        { field: 'Discount', title: '折扣', width: 80 },
        { field: 'MinRecharge', title: '最低充值', width: 80 },
        { field: 'DefaultPrice', title: '初始金额', width: 80 },
        { field: 'DefaultIntegr', title: '初始积分', width: 80 },
        { field: 'Memo', title: '备注', width: 80 },
        {
            field: 'State', title: '状态', width: 80, formatter: function (value, row, index) {
                if (value == 0) { return "可用"; }
                if (value == 1) { return "注销"; }
            }
        },
        { field: 'CreateDT', title: '创建时间', width: 80 },
        { field: 'CreateUID', title: '创建人', width: 80 },
    ]];

</script>