<control:DialogWindow02 x:Class="Pharos.POS.Retailing.ChildWin.RiJie"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"   
        xmlns:xcdg="http://schemas.xceed.com/wpf/xaml/DateTimePicker"
         xmlns:control="clr-namespace:Pharos.Wpf.Controls;assembly=Pharos.Wpf"
        Title="日结" Height="672" Width="1024" WindowStartupLocation="CenterScreen" Icon="..\Images\ChaKuCun\search.png" Margin="0" WindowStyle="None">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="..\Styles\RiJieStyle.xaml"></ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="60"></RowDefinition>
            <RowDefinition Height="10"></RowDefinition>
            <RowDefinition Height="272"></RowDefinition>
            <RowDefinition Height="10"></RowDefinition>
            <RowDefinition Height="*"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="130"></ColumnDefinition>
                <ColumnDefinition Width="150"></ColumnDefinition>
                <ColumnDefinition Width="350"></ColumnDefinition>
                <ColumnDefinition Width="145"></ColumnDefinition>
                <ColumnDefinition Width="150"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <ComboBox TabIndex="0" Margin="10,0" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" FontSize="16" Grid.Column="0" ItemsSource="{Binding RangeSelectItem}" DisplayMemberPath="Value" SelectedValuePath="Key" SelectedValue="{Binding Type,Mode=TwoWay}" Height="35"></ComboBox>
            <!--<ComboBox TabIndex="1"  Margin="10,0" FontSize="16" Grid.Column="1"  ItemsSource="{Binding ModeSelectItem}" DisplayMemberPath="Value" SelectedValuePath="Key" SelectedValue="{Binding Mode,Mode=TwoWay}" Height="35"></ComboBox>-->
            <DatePicker   TabIndex="2"  Margin="10,0"  SelectedDateFormat="Short"  PreviewKeyDown="DatePicker_PreviewKeyDown" SelectedDate="{Binding SearchTime,Mode=TwoWay}" FontSize="14" Grid.Column="1"  Height="35"  VerticalContentAlignment="Center"></DatePicker>
            <StackPanel Grid.Column="2" Orientation="Horizontal">
                <StackPanel.Style>
                    <Style TargetType="StackPanel">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Type,Mode=TwoWay}" Value="0">
                                <Setter Property="IsEnabled" Value="True"></Setter>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Type,Mode=TwoWay}" Value="1">
                                <Setter Property="IsEnabled" Value="True"></Setter>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Type,Mode=TwoWay}" Value="2">
                                <Setter Property="IsEnabled" Value="False"></Setter>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Type,Mode=TwoWay}" Value="3">
                                <Setter Property="IsEnabled" Value="False"></Setter>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </StackPanel.Style>
                <ComboBox Margin="0,0,10,0" Width="70" HorizontalContentAlignment="Center" FontSize="16" ItemsSource="{Binding HoursSelectItem}" SelectedValue="{Binding Hour1,Mode=TwoWay}" Height="35" DisplayMemberPath="Value" SelectedValuePath="Key" ></ComboBox>
                <ComboBox Width="70" HorizontalContentAlignment="Center" FontSize="16" ItemsSource="{Binding MinuteSelectItem}" SelectedValue="{Binding Minute1,Mode=TwoWay}" Height="35" DisplayMemberPath="Value" SelectedValuePath="Key" ></ComboBox>
                <TextBlock Margin="10,0" VerticalAlignment="Center" FontSize="16">到</TextBlock>
                <ComboBox  Margin="0,0,10,0" Width="70" HorizontalContentAlignment="Center" FontSize="16" ItemsSource="{Binding HoursSelectItem}" SelectedValue="{Binding Hour2,Mode=TwoWay}" Height="35" DisplayMemberPath="Value" SelectedValuePath="Key" ></ComboBox>
                <ComboBox Width="70" HorizontalContentAlignment="Center" FontSize="16" ItemsSource="{Binding MinuteSelectItem}" SelectedValue="{Binding Minute2,Mode=TwoWay}" Height="35" DisplayMemberPath="Value" SelectedValuePath="Key" ></ComboBox>
            </StackPanel>
            
            <control:PosButton Name="m" TabIndex="3"  Style="{StaticResource BtnStyle}" Grid.Column="3"  Command="{Binding SearchCommand}">查询</control:PosButton>
            <control:PosButton  TabIndex="4"  Style="{StaticResource BtnStyle}" Grid.Column="4" Background="#BCB4BB"  Command="{Binding PrintCommand}">打印</control:PosButton>
        </Grid>

        <DataGrid Name="DataView"  ScrollViewer.VerticalScrollBarVisibility="Visible" Grid.Row="2" Margin="0" ItemsSource="{Binding DayReportItems,Mode=OneWay}" BorderThickness="1" BorderBrush="#BCB4BB"   VerticalGridLinesBrush="Transparent" HorizontalGridLinesBrush="#D6DBE9" CanUserSortColumns="False" CanUserDeleteRows="True" CanUserAddRows="False" CanUserReorderColumns="False" HeadersVisibility="Column"  AutoGenerateColumns="False">
            <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding Project}" IsReadOnly="True" Header="交易" Width="150*"/>
                <DataGridTextColumn Binding="{Binding Number}" IsReadOnly="True" Header="笔数" Width="150*"/>
                <DataGridTextColumn Binding="{Binding Amount, StringFormat=\{0:C\}}" IsReadOnly="True" Header="金额" Width="150*"/>
            </DataGrid.Columns>
        </DataGrid>
        <Border Grid.Row="4" CornerRadius="10" BorderThickness="1" BorderBrush="Gray">
            <ScrollViewer>
                <Grid>
                    <ItemsControl ScrollViewer.CanContentScroll="False" ItemsSource="{Binding UsersDayReportItems}" ItemTemplate="{StaticResource UserDayReportDataTemplate}">
                    </ItemsControl>
                </Grid>
            </ScrollViewer>
        </Border>
    </Grid>
</control:DialogWindow02>
