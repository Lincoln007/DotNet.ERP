<Window x:Class="Pharos.POS.Retailing.ChildPages.DataSync"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
        xmlns:Converter="clr-namespace:Pharos.POS.Retailing.Converters"
        WindowState="Normal" WindowStyle="None"
        AllowsTransparency="True"  WindowStartupLocation="CenterScreen" Icon="..\Images\data.png" Style="{DynamicResource SkinWindowStyle}"
        Background="Transparent" BorderBrush="Transparent"  FontFamily="/Pharos.POS.Retailing;component/Fonts/#Microsoft YaHei" 
        Name="mainWindow" Title="数据同步" Height="450" Width="600" FontSize="16">
    <Grid Name="contentPanel">
        <Grid.RowDefinitions>
            <RowDefinition Height="100"></RowDefinition>
            <RowDefinition Height="70"></RowDefinition>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="25"></RowDefinition>

        </Grid.RowDefinitions>



        <Grid Grid.Row="0" Name="AutoDataSync">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="150"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <CheckBox IsChecked="{Binding AutoDataSync}" VerticalAlignment="Center" Margin="50,0,0,0">是否自动同步</CheckBox>
            <Button Width="100" Height="35" Grid.Column="2" Command="{Binding Save}"  CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}" >设置</Button>
            <StackPanel Orientation="Horizontal" Grid.Column="1">
                <TextBlock VerticalAlignment="Center">同步间隔：</TextBlock>
                <TextBox Text="{Binding Interval}" VerticalContentAlignment="Center" FontSize="16" Width="80" Height="35"></TextBox>
                <TextBlock VerticalAlignment="Center">分钟</TextBlock>
            </StackPanel>
            <Line Grid.ColumnSpan="3"  Stroke="#27343D" StrokeThickness="0.8" Y1="90" Y2="90" X1="0" X2="600"></Line>
            
        </Grid>
        <Grid Grid.Row="1" Name="manualDataSync1">
            <Grid.Resources>
                <Converter:EnumForRadioButtonConverter x:Key="EnumForRadioButtonConverter" />
            </Grid.Resources>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50"></ColumnDefinition>
                <ColumnDefinition Width="60"></ColumnDefinition>
                <ColumnDefinition Width="90"></ColumnDefinition>
                <ColumnDefinition Width="90"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="150"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="1" VerticalAlignment="Center">方式：</TextBlock>
            <RadioButton  IsChecked="{Binding Path=Type, Converter={StaticResource EnumForRadioButtonConverter}, ConverterParameter=0}" Grid.Column="2" VerticalAlignment="Center">在线同步</RadioButton>
            <!--<RadioButton  IsEnabled="{Binding EnableManual}" IsChecked="{Binding Path=Type, Converter={StaticResource EnumForRadioButtonConverter}, ConverterParameter=1}" Grid.Column="3" VerticalAlignment="Center">离线导出</RadioButton>
            <RadioButton IsEnabled="{Binding EnableManual}" IsChecked="{Binding Path=Type, Converter={StaticResource EnumForRadioButtonConverter}, ConverterParameter=2}" Grid.Column="4" VerticalAlignment="Center">离线导入</RadioButton>-->
            <Button Grid.Column="5" Width="100" Height="35" Command="{Binding DataSync}" CommandParameter="{Binding ElementName=progressBar}">确定</Button>
        </Grid>
        <Grid Grid.Row="2" Name="manualDataSync2">
            <Grid.RowDefinitions>
                <RowDefinition Height="35"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>
            <TextBlock Margin="20,0,0,0" FontSize="16">更新内容：</TextBlock>
            <ItemsControl IsEnabled="{Binding EnableManual}" Grid.Row="1" ItemsSource="{Binding SelectItems}" Margin="10">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel  Name="wp" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <CheckBox Margin="50,0,0,0" IsEnabled="{Binding IsEnabled}" Content="{Binding Title}"  IsChecked="{Binding IsChecked}"></CheckBox>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Grid>
        <ProgressBar Name="progressBar" Visibility="Hidden" Grid.Row="3"></ProgressBar>
        <TextBlock  Grid.Row="3"> <Run Text="{Binding ElementName=progressBar,Path=Value}"></Run>/<Run Text="{Binding ElementName=progressBar,Path=Maximum}"></Run></TextBlock>
    </Grid>
</Window>