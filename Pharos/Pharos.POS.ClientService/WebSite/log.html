<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <link href="css/bootstrap.css" rel="stylesheet" />
    <link href="css/jquery.bootgrid.css" rel="stylesheet" />
    <link href="css/demo.css" rel="stylesheet" />
    <link href="css/easydropdown.css" rel="stylesheet" />
    <link href="css/calendar.css" rel="stylesheet" />
    <link href="css/global.css" rel="stylesheet" />
    <script src="javascript/jquery-1.11.1.min.js"></script>
    <script src="javascript/jquery.tmpl.min.js"></script>
    <script src="javascript/common.js"></script>
    <script src="javascript/calendar.js"></script>
    <script src="javascript/jquery.easydropdown.js"></script>
    <script src="javascript/moderniz.2.8.1.js"></script>

    <style type="text/css">
        .flat{
            float:left;
        }

        /*表格*/
        @-webkit-viewport {
            width: device-width;
        }

        @-moz-viewport {
            width: device-width;
        }

        @-ms-viewport {
            width: device-width;
        }

        @-o-viewport {
            width: device-width;
        }

        @viewport {
            width: device-width;
        }

    </style>
    <title></title>
</head>
<body>
    <script type="text/javascript">
        RegisterArea('menu.html');
        RegisterArea('head.html');
    </script>
    <div class="container">
        <div class="item" style="margin-top:30px;padding:30px 0;">
            <select class="dropdown" tabindex="9" data-settings='{"wrapperClass":"flat"}' style="float:left;">
                <option value="1" selected>全部</option>
                <option value="2">异常</option>
                <option value="3">登录</option>
            </select>

            <!--日期控件begin-->
            <div id="demo" class="log-item">
                <label class="log-text">日期</label>
                <input type="text" id="dt" class="log-time">
                <div id="dd"></div>
            </div>
            <!--日期控件end-->
            <div class="log-item">
                <label class="log-text">关键字</label>
                <input type="text" class="log-time">
            </div>
            <div class="form-group" style="margin-left:30px;margin-top:-7px;float:left;">
                <input type="button" class="btn-little" value="搜索" />
            </div>
            <div class="form-group" style="margin-left:30px;margin-top:-7px;float:left;">
                <input type="button" class="btn-little" value="删除所选日志" />
            </div>
            <div class="form-group" style="margin-left:30px;margin-top:-7px;float:left;">
                <input type="button" class="btn-little" value="清除全部日志" />
            </div>
            <!--<table class="log-table">
                <tr>
                    <th width="5%"><input type="checkbox" style="width:16px;height:16px;" /></th>
                    <th width="6%">ID</th>
                    <th width="8%">类型</th>
                    <th width="8%">账号</th>
                    <th class="align">描述</th>
                    <th width="8%">POS机号</th>
                    <th width="15%" class="align">记录时间</th>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>001</td>
                    <td>异常</td>
                    <td>admin</td>
                    <td class="align">登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>002</td>
                    <td>异常</td>
                    <td>admin</td>
                    <td class="align">登录异常登录异常</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>003</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>004</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>005</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>006</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>007</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>008</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>009</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>010</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>001</td>
                    <td>异常</td>
                    <td>admin</td>
                    <td class="align">登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常登录异常</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>002</td>
                    <td>异常</td>
                    <td>admin</td>
                    <td class="align">登录异常登录异常</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>003</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>004</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>005</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>006</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>007</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>008</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>009</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
                <tr>
                    <td><input type="checkbox" style="width:16px;height:16px;" /></td>
                    <td>010</td>
                    <td>登录</td>
                    <td>admin</td>
                    <td class="align">成功登录</td>
                    <td>001</td>
                    <td class="align">2016-08-30 15:02:56</td>
                </tr>
            </table>-->





            <table id="grid" class="table table-condensed table-hover table-striped log-table">
                <thead>
                    <tr>
                        <th data-column-id="id" data-identifier="true" data-type="numeric" data-width="6%">ID</th>
                        <th data-width="8%">类型</th>
                        <th data-width="8%">账号</th>
                        <th class="align">描述</th>
                        <th data-width="8%">POS机号</th>
                        <th class="align" data-width="15%">记录时间</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>Article 1</td>
                        <td>0</td>
                        <td>1</td>
                        <td>Article 1</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Article 2</td>
                        <td>0</td>
                        <td>2</td>
                        <td>Article 2</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Article 3</td>
                        <td>0</td>
                        <td>3</td>
                        <td>Article 3</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>Article 4</td>
                        <td>0</td>
                        <td>4</td>
                        <td>Article 4</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>Article 5</td>
                        <td>0</td>
                        <td>5</td>
                        <td>Article 5</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>Article 6</td>
                        <td>0</td>
                        <td>6</td>
                        <td>Article 6</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>Article 7</td>
                        <td>0</td>
                        <td>7</td>
                        <td>Article 7</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>Article 8</td>
                        <td>0</td>
                        <td>8</td>
                        <td>Article 8</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td>Article 9</td>
                        <td>0</td>
                        <td>9</td>
                        <td>Article 9</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>10</td>
                        <td>Article 10</td>
                        <td>0</td>
                        <td>10</td>
                        <td>Article 10</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>11</td>
                        <td>Article 11</td>
                        <td>0</td>
                        <td>11</td>
                        <td>Article 11</td>
                        <td>0</td>
                    </tr>
                </tbody>
            </table>
        </div>
        </div>
    <script src="javascript/bootstrap.js"></script>
    <script src="javascript/jquery.bootgrid.js"></script>
    <script>
        //自动高度
        var _height = window.screen.height - 280;
        $('.item').css('height', _height + 'px');

        //日期控件
        $('#dd').calendar({
            trigger: '#dt',
            zIndex: 999,
            format: 'yyyy-mm-dd',
            onSelected: function (view, date, data) {
                console.log('event: onSelected')
            },
            onClose: function (view, date, data) {
                console.log('event: onClose')
                console.log('view:' + view)
                console.log('date:' + date)
                console.log('data:' + (data || 'None'));
            }
        });
        

        //表格
        $(function () {
            var data = [];

            var grid = $("#grid").bootgrid({
                pagination: 3,
                selection: true,
                multiSelect: true,
                formatters: {
                    "quantity": function (column, row) {
                        return "<input id=\"" + row.id + "-quantity\" type=\"text\" class=\"quantity\" value=\"" + row.quantity + "\" />";
                    }
                }
            });
            //.on("loaded.rs.jquery.bootgrid", function (e) { //加载时触发
            //    // Resets the selected data array on reload, searching, sorting or changing page
            //    data = [];

            //    grid.on("keyup", "input.quantity", function () {
            //        e.stopPropagation();

            //        // Array.first is an extension of bootgrid
            //        var $this = $(this),
            //            rowId = +$this.attr("id").split("-")[0], // "+" to convert the a string to an integer
            //            item = data.first(function (item) { return item.id === rowId; });
            //        if (item != null) {
            //            item.quantity = $this.val();
            //        }
            //    });
            //}).on("selected.rs.jquery.bootgrid", function (e, selectedRows) { //选中事件
            //    var row, quantity;
            //    for (var i = 0; i < selectedRows.length; i++) {
            //        row = selectedRows[i];

            //        // Array.contains is an extension of bootgrid
            //        if (!data.contains(function (item) { return item.id === row.id; })) {
            //            quantity = grid.find("#" + row.id + "-quantity").val();
            //            data.push({ id: row.id, quantity: quantity || 0 });
            //        }
            //    }
            //}).on("deselected.rs.jquery.bootgrid", function (e, deselectedRows) { //取消选择
            //    var row;
            //    for (var i = 0; i < deselectedRows.length; i++) {
            //        row = deselectedRows[i];
            //        for (var j = 0; j < data.length; j++) {
            //            if (data[j].id === row.id) {
            //                data.splice(j, 1);
            //                return;
            //            }
            //        }
            //    }
            //})

            $("#send").on("click", function () {
                var params = $.param({ "": data });
                alert(decodeURIComponent(params));
            });
        });

    </script>
</body>
</html>